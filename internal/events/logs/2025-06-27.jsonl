{"timestamp":"2025-06-27T18:27:07.558489+02:00","level":"INFO","message":"Logger initialized","data":{"component":"","dev_mode":true,"log_dir":"./logs","min_level":"DEBUG"},"caller":"logging/logger.go:137","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.558531+02:00","level":"INFO","message":"V8 pool initialized successfully","data":{"poolSize":4,"source":"v8-pool"},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559634+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.55967+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559689+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559707+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559731+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559748+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559772+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:07.559828+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"001","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers2682379958/001/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:08.840486+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"001","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers2682379958/001/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:08.840528+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:08.840588+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"go"},"eventType":"Post","exists":true,"goPlugins":1,"jsScripts":0,"scriptType":"go","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:08.840611+02:00","level":"DEBUG","message":"üîß EXECUTING GO SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"pluginPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers2682379958/001/.plugins/post.so","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.099958+02:00","level":"DEBUG","message":"Go plugin execution details","data":{"cancelled":false,"execTimeMs":0,"hasErrors":false,"loadTimeMs":259,"plugin":"post.so","source":"go-plugin","totalTimeMs":259},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.099988+02:00","level":"DEBUG","message":"üîß GO PLUGIN EXECUTION RESULT","data":{"dataAfter":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:27:09+02:00","value":42},"error":null,"eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.100025+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:27:09+02:00","value":42},"duration":"259.491745ms","durationMs":259,"runtime":"go","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101594+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101623+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101646+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101663+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101691+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101709+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101754+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1460916579/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.101837+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10202+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.102092+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.102102+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.102115+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1460916579/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10249+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.103948+02:00","level":"DEBUG","message":"JS Console: [JavaScript handler modified data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10408+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":1,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":1},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104093+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104179+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"JS Modified: Test Item","processed":true,"processedAt":"2025-06-27T16:27:09.102Z","value":42},"duration":"2.15091ms","durationMs":2,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104636+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104677+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104758+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1460916579/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104773+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104793+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104812+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104843+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104879+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10493+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Valid Item","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104969+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104979+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.104989+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1460916579/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105322+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10559+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105627+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105638+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105702+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Valid Item","value":42},"duration":"763.239¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105717+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"","value":-5},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105728+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105737+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105745+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1460916579/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.105865+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.106056+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.106092+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":2,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.106103+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"name field is required and cannot be empty","value":"value must be a non-negative number"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.106172+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"438.52¬µs","durationMs":0,"error":"validation errors: name: name field is required and cannot be empty, value: value must be a non-negative number","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 38 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001e0a00, 0x3, {0x101cce0c0, 0xc}, 0xc00004ed30)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001e0a00, {0x101cce0c0, 0xc}, {0xc00004efb0, 0x1, 0x100565719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x101cce0c0, 0xc}, {0x101cca1d6, 0x5}, 0xc00004f590)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc00016b720, {0x101ccb859, 0x8}, 0xc000154840, 0xc0002b3d40)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestJavaScriptEventHandlers.func2(0xc000281a40)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:193 +0x4dc\ntesting.tRunner(0xc000281a40, 0xc000126ab0)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 36\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107527+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107573+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107611+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10763+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107648+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107689+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution4002988144/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107707+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107801+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution4002988144/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107813+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107837+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107865+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107896+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.107928+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution4002988144/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108034+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108265+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108279+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108351+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"eventType":"post","name":"Test","processed":true,"value":42},"duration":"502.71¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108376+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108388+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108397+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108411+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution4002988144/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108461+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108614+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108633+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108698+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test","validated":true,"value":42},"duration":"310.466¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108714+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108727+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.10874+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108749+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution4002988144/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108808+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108972+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":1,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.108984+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"Name is required"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.109041+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"319.751¬µs","durationMs":0,"error":"validation errors: name: Name is required","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 40 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001e0a00, 0x3, {0x101cce0c0, 0xc}, 0xc00004ecd8)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001e0a00, {0x101cce0c0, 0xc}, {0xc00004ef58, 0x1, 0x100565719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x101cce0c0, 0xc}, {0x101cca1d6, 0x5}, 0xc00004f538)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc00016b900, {0x101ccb859, 0x8}, 0xc0001548f0, 0xc000339350)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestEventHandlerExecution.func1(0xc000281dc0)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:253 +0x77c\ntesting.tRunner(0xc000281dc0, 0xc000126d38)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 39\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.110165+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.1102+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.110219+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.110275+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.110316+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestLoadScripts993876940","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts993876940/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.950327+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestLoadScripts993876940","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts993876940/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.950362+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.950408+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.950432+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts993876940","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951507+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951543+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951562+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951578+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951594+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951609+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951625+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951667+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951684+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951698+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951714+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951728+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.951746+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.95176+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript448646664","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.953032+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:09.953112+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo58678563/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845334+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo58678563/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845376+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.84546+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo58678563/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845477+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845497+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845515+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.84553+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.845543+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo58678563","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846322+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846354+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{},"eventType":"Post","exists":false,"goPlugins":0,"jsScripts":0,"scriptType":"","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846364+02:00","level":"DEBUG","message":"‚ùå NO SCRIPT FOUND FOR EVENT","data":{"collection":"","eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846721+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846747+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846765+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846782+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":"js"},"event":"put","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846821+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS3126386191/put.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846832+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846848+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846865+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS3126386191","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846894+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"PUT","payload":{"name":"Test Document","value":42},"source":"event","type":"Put","user":"test-user-123"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846925+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Put":"js"},"eventType":"Put","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846938+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Put","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.846959+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS3126386191/put.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.847129+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.847343+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"put.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.847356+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.847477+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test Document","value":42},"duration":"512.599¬µs","durationMs":0,"runtime":"js","source":"event","type":"Put"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848609+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848663+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848685+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848702+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848719+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":"js"},"event":"delete","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848771+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError4227547513/delete.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848783+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848803+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4227547513","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848832+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"DELETE","payload":{},"source":"event","type":"Delete","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848854+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Delete":"js"},"eventType":"Delete","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.84887+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Delete","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848878+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError4227547513/delete.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.848994+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":0,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.849168+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"delete.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.84918+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.849319+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{},"duration":"479.764¬µs","durationMs":0,"runtime":"js","source":"event","type":"Delete"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.850716+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.850745+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.850764+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":"js"},"event":"get","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.850808+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime300976477/get.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.85082+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.850848+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:10.85089+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMixedRuntime300976477","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime300976477/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.704723+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMixedRuntime300976477","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime300976477/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.704764+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.704814+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime300976477","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.706543+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.706581+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.706601+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.706642+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.706683+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:11.70673+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","script":"beforerequest.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime2838565378/beforerequest.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.557356+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime2838565378/.plugins/beforerequest.so","script":"beforerequest.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.557395+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.557423+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2838565378","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558306+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558334+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558373+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558389+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558421+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.558436+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.55846+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles2020772867","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560061+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560099+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560117+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560134+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.56017+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560197+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560212+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2959329565","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:12.560445+02:00","level":"INFO","message":"Hot-reloading Go event script","component":"events","data":{"collection":"TestHotReload2959329565","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2959329565/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2959329565/aftercommit.go"},"caller":"events/manager.go:409","environment":"development"}
{"timestamp":"2025-06-27T18:27:13.406903+02:00","level":"INFO","message":"Successfully hot-reloaded Go event script","component":"events","data":{"collection":"TestHotReload2959329565","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2959329565/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2959329565/aftercommit.go"},"caller":"events/manager.go:424","environment":"development"}
{"timestamp":"2025-06-27T18:27:13.40816+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:13.408194+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:13.408214+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:13.408253+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins4111969975/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.232166+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins4111969975/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.232206+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.232244+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.232271+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.232292+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins4111969975","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.233991+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:14.234044+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.081492+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.081534+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.081604+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/put.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961484+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/.plugins/put.so","script":"put.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961528+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961559+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961582+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.9616+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961643+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:15.961708+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:16.817041+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins1256283476","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins1256283476/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:16.818941+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":"go"},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:16.818993+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","script":"get.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig1879813010/get.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654634+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig1879813010/.plugins/get.so","script":"get.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654673+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654722+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654783+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654802+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654838+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.654858+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig1879813010","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.65696+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657034+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation1253015194/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.65705+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.65707+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657087+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657113+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657131+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657155+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation1253015194","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657174+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"test":"runtime"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657193+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657218+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.65723+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation1253015194/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657439+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657656+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657669+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.657748+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"test":"runtime"},"duration":"546.095¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.686582+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.686634+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.686709+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:17.686775+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:18.520496+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:18.520534+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:18.520613+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:19.340739+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:19.340828+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:19.340981+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/put.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:20.177214+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/.plugins/put.so","script":"put.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:20.177259+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture1259851715","config_exists":{"runtime":"go"},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:20.177369+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture1259851715","script":"delete.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture1259851715/delete.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.348686+02:00","level":"INFO","message":"Logger initialized","data":{"component":"","dev_mode":true,"log_dir":"./logs","min_level":"DEBUG"},"caller":"logging/logger.go:137","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.348747+02:00","level":"INFO","message":"V8 pool initialized successfully","data":{"poolSize":4,"source":"v8-pool"},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.35028+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.35032+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.350343+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:32.350403+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"001","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers1558283805/001/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.334931+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"001","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers1558283805/001/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.334964+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335008+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335036+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335058+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335092+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335145+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"go"},"eventType":"Post","exists":true,"goPlugins":1,"jsScripts":0,"scriptType":"go","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.335166+02:00","level":"DEBUG","message":"üîß EXECUTING GO SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"pluginPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers1558283805/001/.plugins/post.so","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.817434+02:00","level":"DEBUG","message":"Go plugin execution details","data":{"cancelled":false,"execTimeMs":0,"hasErrors":false,"loadTimeMs":482,"plugin":"post.so","source":"go-plugin","totalTimeMs":482},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.817464+02:00","level":"DEBUG","message":"üîß GO PLUGIN EXECUTION RESULT","data":{"dataAfter":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:27:33+02:00","value":42},"error":null,"eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.817539+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:27:33+02:00","value":42},"duration":"482.407128ms","durationMs":482,"runtime":"go","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818762+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818794+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.81881+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818827+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818867+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1585599959/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818881+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818897+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818921+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818967+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.818994+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.819004+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.819018+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1585599959/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.819341+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820469+02:00","level":"DEBUG","message":"JS Console: [JavaScript handler modified data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820548+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":1,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":1},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82056+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820624+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"JS Modified: Test Item","processed":true,"processedAt":"2025-06-27T16:27:33.819Z","value":42},"duration":"1.64971ms","durationMs":1,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820843+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820912+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1585599959/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820927+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820955+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820973+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.820989+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821005+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821022+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82104+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Valid Item","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821062+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821071+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821081+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1585599959/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821191+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821397+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821426+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821437+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821504+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Valid Item","value":42},"duration":"452.244¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821518+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"","value":-5},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821528+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821537+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821545+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers1585599959/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82164+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82183+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821863+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":2,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821873+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"name field is required and cannot be empty","value":"value must be a non-negative number"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.821933+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"406.218¬µs","durationMs":0,"error":"validation errors: name: name field is required and cannot be empty, value: value must be a non-negative number","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 37 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001fc8c0, 0x3, {0x10e7f10c0, 0xc}, 0xc00004ed30)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001fc8c0, {0x10e7f10c0, 0xc}, {0xc00004efb0, 0x1, 0x10d088719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x10e7f10c0, 0xc}, {0x10e7ed1d6, 0x5}, 0xc00004f590)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc0002d0230, {0x10e7ee859, 0x8}, 0xc0003640b0, 0xc000372240)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestJavaScriptEventHandlers.func2(0xc000356380)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:193 +0x4dc\ntesting.tRunner(0xc000356380, 0xc00029e318)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 35\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823051+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823103+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution3711422575/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823115+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823149+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution3711422575/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82316+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823176+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823196+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823212+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823229+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823252+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823279+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823292+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823302+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution3711422575/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823394+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823601+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823615+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823685+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"eventType":"post","name":"Test","processed":true,"value":42},"duration":"428.146¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823705+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823715+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823728+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.823742+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution3711422575/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82386+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824002+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824014+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824083+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test","validated":true,"value":42},"duration":"372.359¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824098+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824107+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824117+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824131+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution3711422575/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824169+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824315+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":1,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824332+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"Name is required"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.824386+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"282.058¬µs","durationMs":0,"error":"validation errors: name: Name is required","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 39 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001fc8c0, 0x3, {0x10e7f10c0, 0xc}, 0xc00004ecd8)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001fc8c0, {0x10e7f10c0, 0xc}, {0xc00004ef58, 0x1, 0x10d088719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x10e7f10c0, 0xc}, {0x10e7ed1d6, 0x5}, 0xc00004f538)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc0002d0410, {0x10e7ee859, 0x8}, 0xc000364160, 0xc0003737d0)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestEventHandlerExecution.func1(0xc000356700)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:253 +0x77c\ntesting.tRunner(0xc000356700, 0xc00029e5a0)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 38\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.825391+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.82542+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.825439+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.825472+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:33.825512+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestLoadScripts3095791568","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts3095791568/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.638195+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestLoadScripts3095791568","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts3095791568/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.638232+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.638272+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.638293+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts3095791568","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639275+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639309+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639331+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639348+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639373+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639389+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639406+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639432+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639448+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639463+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639477+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639491+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639504+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.639518+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1856911145","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.640368+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.640401+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.640422+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.640446+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:34.640493+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo1625133039/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.459739+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo1625133039/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.459775+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.459852+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo1625133039/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.459871+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.459892+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo1625133039","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46068+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.460714+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{},"eventType":"Post","exists":false,"goPlugins":0,"jsScripts":0,"scriptType":"","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.460724+02:00","level":"DEBUG","message":"‚ùå NO SCRIPT FOUND FOR EVENT","data":{"collection":"","eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46108+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461113+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461131+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461157+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461173+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461191+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461207+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS1880704626","config_exists":{"runtime":"js"},"event":"put","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461246+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS1880704626/put.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461264+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"PUT","payload":{"name":"Test Document","value":42},"source":"event","type":"Put","user":"test-user-123"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461302+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Put":"js"},"eventType":"Put","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461313+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Put","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461342+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS1880704626/put.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46152+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461734+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"put.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461747+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.461814+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test Document","value":42},"duration":"538.698¬µs","durationMs":0,"runtime":"js","source":"event","type":"Put"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.462971+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463019+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46304+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463058+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463102+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":"js"},"event":"delete","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46318+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError4060691907/delete.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.4632+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463219+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError4060691907","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46324+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"DELETE","payload":{},"source":"event","type":"Delete","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463261+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Delete":"js"},"eventType":"Delete","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463271+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Delete","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463282+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError4060691907/delete.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463415+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":0,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463591+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"delete.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463605+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.463679+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{},"duration":"419.111¬µs","durationMs":0,"runtime":"js","source":"event","type":"Delete"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.464636+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.46467+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":"js"},"event":"get","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.464729+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime2872167151/get.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.464777+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.464795+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:35.464832+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime2872167151/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.262323+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime2872167151/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.262414+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.262459+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.262494+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime2872167151","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.264721+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.264778+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.264891+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.264961+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.265003+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.265043+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:36.265146+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","script":"beforerequest.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime3756096909/beforerequest.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.090901+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime3756096909/.plugins/beforerequest.so","script":"beforerequest.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.09094+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime3756096909","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092539+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092575+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092593+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092618+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092644+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092662+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.092678+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1210550798","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093182+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093215+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093233+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093249+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093271+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093286+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093302+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload2767700117","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.093473+02:00","level":"INFO","message":"Hot-reloading Go event script","component":"events","data":{"collection":"TestHotReload2767700117","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2767700117/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2767700117/aftercommit.go"},"caller":"events/manager.go:409","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.902353+02:00","level":"INFO","message":"Successfully hot-reloaded Go event script","component":"events","data":{"collection":"TestHotReload2767700117","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2767700117/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload2767700117/aftercommit.go"},"caller":"events/manager.go:424","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903699+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903733+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903751+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903771+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903787+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:37.903825+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins3576494951/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:38.720915+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins3576494951/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:38.72095+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:38.721005+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins3576494951","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:38.723112+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:38.723171+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:39.561435+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:39.561467+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:39.561531+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/put.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404758+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/.plugins/put.so","script":"put.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404797+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404824+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404856+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404897+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404917+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:40.404978+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.21084+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins2022278420","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins2022278420/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213456+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213493+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213513+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213568+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213603+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":"go"},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:41.213643+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","script":"get.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig3698466288/get.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.027806+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig3698466288/.plugins/get.so","script":"get.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.027844+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.027874+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig3698466288","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029041+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029083+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029163+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation3750292386/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.02921+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.02923+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029285+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029326+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029342+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation3750292386","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029398+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"test":"runtime"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029413+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029422+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029436+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation3750292386/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029623+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.02984+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029857+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.029936+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"test":"runtime"},"duration":"510.917¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.03139+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture2006423992","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.031418+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture2006423992","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.03148+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.853009+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.853046+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture2006423992","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:42.853123+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:43.662289+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:43.662334+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture2006423992","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:43.662402+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/put.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:27:44.500156+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/.plugins/put.so","script":"put.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:27:44.500195+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture2006423992","config_exists":{"runtime":"go"},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:27:44.500264+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture2006423992","script":"delete.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture2006423992/delete.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.283428+02:00","level":"INFO","message":"Logger initialized","data":{"component":"","dev_mode":true,"log_dir":"./logs","min_level":"DEBUG"},"caller":"logging/logger.go:137","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.283449+02:00","level":"INFO","message":"V8 pool initialized successfully","data":{"poolSize":4,"source":"v8-pool"},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.284735+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.284774+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.284811+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:17.284906+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"001","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers3139980067/001/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273711+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"001","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers3139980067/001/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273756+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273796+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273818+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273846+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273876+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.273929+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"go"},"eventType":"Post","exists":true,"goPlugins":1,"jsScripts":0,"scriptType":"go","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:18.27395+02:00","level":"DEBUG","message":"üîß EXECUTING GO SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"pluginPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGoEventHandlers3139980067/001/.plugins/post.so","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.280279+02:00","level":"DEBUG","message":"Go plugin execution details","data":{"cancelled":false,"execTimeMs":0,"hasErrors":false,"loadTimeMs":1006,"plugin":"post.so","source":"go-plugin","totalTimeMs":1006},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.280309+02:00","level":"DEBUG","message":"üîß GO PLUGIN EXECUTION RESULT","data":{"dataAfter":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:34:19+02:00","value":42},"error":null,"eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.280348+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Modified: Test Item","processed":true,"processedAt":"2025-06-27T18:34:19+02:00","value":42},"duration":"1.006493951s","durationMs":1006,"runtime":"go","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281626+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281714+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers471726299/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281776+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28182+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281843+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281861+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281878+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281904+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281959+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test Item","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281988+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.281998+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.282032+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers471726299/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.282456+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.283797+02:00","level":"DEBUG","message":"JS Console: [JavaScript handler modified data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.283938+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":1,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":1},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.283992+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.284165+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"JS Modified: Test Item","processed":true,"processedAt":"2025-06-27T16:34:19.282Z","value":42},"duration":"2.195973ms","durationMs":2,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28479+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.284919+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers471726299/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28493+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.284993+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285012+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285028+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285043+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285089+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285106+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Valid Item","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285128+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285142+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285152+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers471726299/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28529+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285496+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28553+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285538+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285601+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Valid Item","value":42},"duration":"485.87¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.28562+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"","value":-5},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285635+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285644+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285652+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestJavaScriptEventHandlers471726299/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.285799+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.286022+02:00","level":"DEBUG","message":"JS Console: [JavaScript validation passed for data: [object Object]]","data":{"source":"js-console"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.286046+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":2,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.286054+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"name field is required and cannot be empty","value":"value must be a non-negative number"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.286113+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"485.833¬µs","durationMs":0,"error":"validation errors: name: name field is required and cannot be empty, value: value must be a non-negative number","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 26 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001fcb40, 0x3, {0x1024a60c0, 0xc}, 0xc000148d30)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001fcb40, {0x1024a60c0, 0xc}, {0xc000148fb0, 0x1, 0x100d3d719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x1024a60c0, 0xc}, {0x1024a21d6, 0x5}, 0xc000149590)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc0000357c0, {0x1024a3859, 0x8}, 0xc0000f8790, 0xc000335770)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestJavaScriptEventHandlers.func2(0xc000227180)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:193 +0x4dc\ntesting.tRunner(0xc000227180, 0xc000010b10)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 24\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307298+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"validate","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307371+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution2741489433/001/validate.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307386+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307428+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution2741489433/001/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.30744+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.30746+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307479+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307498+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307518+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"001","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307545+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307584+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307606+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307619+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution2741489433/001/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.307794+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.30808+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308096+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308182+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"eventType":"post","name":"Test","processed":true,"value":42},"duration":"619.129¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308209+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test","value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308221+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308234+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308245+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution2741489433/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308304+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308489+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308504+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.30857+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test","validated":true,"value":42},"duration":"353.086¬µs","durationMs":0,"runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308594+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"value":42},"source":"event","type":"Validate","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308605+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js","Validate":"js"},"eventType":"Validate","exists":true,"goPlugins":0,"jsScripts":2,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308617+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Validate","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308627+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestEventHandlerExecution2741489433/001/validate.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308668+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308848+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":1,"execTimeMs":0,"hasErrors":true,"pooled":true,"script":"validate.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308862+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{"name":"Name is required"},"hasCancelled":false,"hasErrors":true,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.308935+02:00","level":"ERROR","message":"Event failed","data":{"collection":"","duration":"326.239¬µs","durationMs":0,"error":"validation errors: name: Name is required","runtime":"js","source":"event","type":"Validate"},"caller":"logging/logger.go:694","stack_trace":"goroutine 35 [running]:\ngithub.com/hjanuschka/go-deployd/internal/logging.getStackTrace(...)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:268\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).log(0xc0001fcb40, 0x3, {0x1024a60c0, 0xc}, 0xc000144cd8)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:405 +0x4f1\ngithub.com/hjanuschka/go-deployd/internal/logging.(*Logger).Error(0xc0001fcb40, {0x1024a60c0, 0xc}, {0xc000144f58, 0x1, 0x100d3d719?})\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:441 +0x136\ngithub.com/hjanuschka/go-deployd/internal/logging.Error({0x1024a60c0, 0xc}, {0x1024a21d6, 0x5}, 0xc000145538)\n\t/Users/hjanuschka/go-deployd/internal/logging/logger.go:694 +0x234\ngithub.com/hjanuschka/go-deployd/internal/events.(*UniversalScriptManager).RunEvent(0xc0002aa190, {0x1024a3859, 0x8}, 0xc0002e2000, 0xc000289140)\n\t/Users/hjanuschka/go-deployd/internal/events/manager.go:310 +0x14cd\ngithub.com/hjanuschka/go-deployd/internal/events_test.TestEventHandlerExecution.func1(0xc0002ba1c0)\n\t/Users/hjanuschka/go-deployd/internal/events/integration_test.go:253 +0x77c\ntesting.tRunner(0xc0002ba1c0, 0xc000298060)\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1792 +0xf4\ncreated by testing.(*T).Run in goroutine 34\n\t/usr/local/Cellar/go/1.24.4/libexec/src/testing/testing.go:1851 +0x413\n","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.310756+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.310785+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.310804+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:19.310923+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestLoadScripts150347245","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts150347245/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.100323+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestLoadScripts150347245","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestLoadScripts150347245/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.100367+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.100395+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.100423+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.100441+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestLoadScripts150347245","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101814+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.10186+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101896+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101936+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101954+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101973+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.101992+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.102012+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.10203+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.102043+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.10206+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.102079+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.102093+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.102105+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestReloadScript1292287933","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.10353+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.103561+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.103582+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.103602+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.103622+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.10364+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.103685+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo3034458779/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.924906+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo3034458779/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.92495+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestGetScriptInfo3034458779","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.92503+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestGetScriptInfo3034458779/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.925829+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"name":"Test"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.925862+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{},"eventType":"Post","exists":false,"goPlugins":0,"jsScripts":0,"scriptType":"","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.925871+02:00","level":"DEBUG","message":"‚ùå NO SCRIPT FOUND FOR EVENT","data":{"collection":"","eventType":"Post","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926234+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":"js"},"event":"put","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926289+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS2938997920/put.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926302+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926324+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926342+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926358+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926377+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926393+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventJS2938997920","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926429+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"PUT","payload":{"name":"Test Document","value":42},"source":"event","type":"Put","user":"test-user-123"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926459+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Put":"js"},"eventType":"Put","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926472+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Put","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926484+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventJS2938997920/put.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926656+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":2,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926873+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"put.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926886+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.926959+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"name":"Test Document","value":42},"duration":"512.756¬µs","durationMs":0,"runtime":"js","source":"event","type":"Put"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928237+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928285+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":"js"},"event":"delete","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928329+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError904900634/delete.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928349+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928369+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928387+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.92841+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928433+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestRunEventError904900634","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928459+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"DELETE","payload":{},"source":"event","type":"Delete","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.92848+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Delete":"js"},"eventType":"Delete","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928501+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Delete","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928511+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestRunEventError904900634/delete.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928624+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":0,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928792+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"delete.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928804+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.928876+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{},"duration":"396.81¬µs","durationMs":0,"runtime":"js","source":"event","type":"Delete"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.929827+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:20.929879+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMixedRuntime384676780","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime384676780/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757394+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMixedRuntime384676780","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime384676780/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757436+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757464+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757529+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757566+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757586+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":"js"},"event":"get","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757693+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMixedRuntime384676780/get.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.757707+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMixedRuntime384676780","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759178+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759206+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759225+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759262+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759294+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759311+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.759326+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:21.75937+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","script":"beforerequest.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime2175275277/beforerequest.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.56521+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestDefaultRuntime2175275277","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestDefaultRuntime2175275277/.plugins/beforerequest.so","script":"beforerequest.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566092+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566124+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566143+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566159+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566188+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566205+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.56624+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestNoFiles1279836699","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566739+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566771+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.56679+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566806+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566821+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566836+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.566859+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestHotReload664405080","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:22.567006+02:00","level":"INFO","message":"Hot-reloading Go event script","component":"events","data":{"collection":"TestHotReload664405080","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload664405080/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload664405080/aftercommit.go"},"caller":"events/manager.go:409","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.383554+02:00","level":"INFO","message":"Successfully hot-reloaded Go event script","component":"events","data":{"collection":"TestHotReload664405080","event":"aftercommit","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload664405080/.plugins/aftercommit.so","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestHotReload664405080/aftercommit.go"},"caller":"events/manager.go:424","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385291+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385324+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385344+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385361+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.38538+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385406+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385426+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPlugins286487036","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:23.385475+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPlugins286487036","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins286487036/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:24.21422+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPlugins286487036","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPlugins286487036/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:24.215697+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:24.215728+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:24.215854+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.057697+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.057749+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.057821+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.890553+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.890608+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:25.89068+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/put.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.734655+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestMultipleStartupPlugins4294497013/.plugins/put.so","script":"put.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.734696+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.734723+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.734817+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestMultipleStartupPlugins4294497013","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.73685+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.736877+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.736895+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.736959+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.736981+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":"go"},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:26.737077+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","script":"get.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig208105577/get.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.552546+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/TestStartupPluginConfig208105577/.plugins/get.so","script":"get.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.552602+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.552664+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"TestStartupPluginConfig208105577","config_exists":{"runtime":""},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.55428+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554322+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554341+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.55436+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":"js"},"event":"post","runtime":"js"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.55441+02:00","level":"DEBUG","message":"JavaScript source stored for compilation","data":{"filePath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation2778778808/post.js","source":"v8-pool"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554429+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554448+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554466+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"RuntimeCompilation2778778808","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554484+02:00","level":"DEBUG","message":"üöÄ EVENT TRIGGERED","data":{"collection":"","method":"POST","payload":{"test":"runtime"},"source":"event","type":"Post","user":null},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554499+02:00","level":"DEBUG","message":"üîç CHECKING SCRIPT AVAILABILITY","data":{"allScripts":{"Post":"js"},"eventType":"Post","exists":true,"goPlugins":0,"jsScripts":1,"scriptType":"js","source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.55451+02:00","level":"DEBUG","message":"üîß EXECUTING JS SCRIPT","data":{"collection":"","eventType":"Post","hasScript":true,"source":"event"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554522+02:00","level":"DEBUG","message":"Executing precompiled JavaScript script with V8 pool","data":{"scriptPath":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/RuntimeCompilation2778778808/post.js","source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554672+02:00","level":"DEBUG","message":"Setting up JavaScript environment (V8)","data":{"dataKeys":"[REDACTED]","dataLen":1,"hasData":true,"source":"js-context"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554888+02:00","level":"INFO","message":"JavaScript execution timing","data":{"acquireTimeMs":0,"errorCount":0,"execTimeMs":0,"hasErrors":false,"pooled":true,"script":"post.js","source":"js-timing","totalTimeMs":0},"caller":"logging/logger.go:678","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554901+02:00","level":"DEBUG","message":"JavaScript execution completed (V8 pool)","data":{"errors":{},"hasCancelled":false,"hasErrors":false,"source":"js-execution"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.554976+02:00","level":"DEBUG","message":"Event completed","data":{"collection":"","dataModified":{"test":"runtime"},"duration":"467.666¬µs","durationMs":0,"runtime":"js","source":"event","type":"Post"},"caller":"logging/logger.go:670","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.556354+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":"go"},"event":"delete","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:27.556403+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","script":"delete.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/delete.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411669+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/.plugins/delete.so","script":"delete.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411709+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":""},"event":"aftercommit","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411742+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":""},"event":"beforerequest","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411786+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":""},"event":"get","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411813+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":"go"},"event":"validate","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:28.411874+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","script":"validate.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/validate.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:29.202134+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/.plugins/validate.so","script":"validate.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:29.20217+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":"go"},"event":"post","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:29.202237+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","script":"post.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/post.go"},"caller":"events/manager.go:101","environment":"development"}
{"timestamp":"2025-06-27T18:34:30.001076+02:00","level":"INFO","message":"Successfully compiled Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","plugin_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/.plugins/post.so","script":"post.go"},"caller":"events/manager.go:117","environment":"development"}
{"timestamp":"2025-06-27T18:34:30.001116+02:00","level":"DEBUG","message":"Loading event script","component":"events","data":{"collection":"PluginArchitecture3114462686","config_exists":{"runtime":"go"},"event":"put","runtime":"go"},"caller":"events/manager.go:89","environment":"development"}
{"timestamp":"2025-06-27T18:34:30.00127+02:00","level":"INFO","message":"Compiling Go event script","component":"events","data":{"collection":"PluginArchitecture3114462686","script":"put.go","source_path":"/var/folders/8k/r51k3md137dfl_qztlbdcp8h0000gp/T/PluginArchitecture3114462686/put.go"},"caller":"events/manager.go:101","environment":"development"}
